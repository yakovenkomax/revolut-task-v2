(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(51),o=n.n(c),u=n(2),l=n(3),i=n(5),s=n(4),m=n(6),d=n(16),p={USD:"$",GBP:"\xa3",EUR:"\u20ac"},y=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currency,n=e.value,r=e.precision,c=void 0===r?2:r,o=p[t],u=n.toFixed(c);return a.a.createElement(a.a.Fragment,null,o,u)}}]),t}(a.a.PureComponent),h=n(20),f=n.n(h),v=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.createElement("div",{className:f.a.root},r.createElement("div",{className:f.a.bounce1}),r.createElement("div",{className:f.a.bounce2}),r.createElement("div",{className:f.a.bounce3}))}}]),t}(r.PureComponent),_=n(26),b=n.n(_),E=b()({RATES_UPDATE_LOADER:null}),O="You have",j="Unavailable",g="Exchange",w=n(53),T=n.n(w),A=n(1),C=function(e){var t=e.currencyFrom,n=e.currencyTo,r=e.wallet,a=e.amount,c=e.rates;if(!R(c[t])||!R(c[n]))return!1;if(t===n)return!1;if(!F(a))return!1;var o=r[t];return!(!o||o.lt(a))},D=function(e){var t=e.currencyFrom,n=e.currencyTo,r=e.rates,a=r[t],c=r[n];if(R(a)&&R(c))return c.div(a)},R=function(e){return e instanceof A.Decimal&&e.gt(0)},F=function(e){return e instanceof A.Decimal&&e.gt(0)},x=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderContent",value:function(){var e=this.props,t=e.currencyFrom,n=e.currencyTo,r=e.inProgress,c=e.rate;return r?a.a.createElement(v,null):c?a.a.createElement(a.a.Fragment,null,a.a.createElement(y,{currency:t,value:new A.Decimal(1),precision:0})," = ",a.a.createElement(y,{currency:n,value:c,precision:4})):j}},{key:"render",value:function(){return a.a.createElement("div",{className:T.a.root},this.renderContent())}}]),t}(a.a.PureComponent),P=Object(d.b)(function(e){var t=e.form,n=e.rates,r=e.loaders[E.RATES_UPDATE_LOADER],a=t.currencyFrom,c=t.currencyTo;return{currencyFrom:a,currencyTo:c,inProgress:r,rate:D({currencyFrom:a,currencyTo:c,rates:n})}})(x),L=n(9),S=n(27),N=n.n(S),k=n(39),I=n.n(k),U=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.disabled,r=e.text,c=N()(I.a.root,Object(L.a)({},I.a.disabled,n));return a.a.createElement("button",{className:c,type:t,disabled:n},r)}}]),t}(a.a.PureComponent),B=n(54),G=n.n(B),M=(n(82),n(29)),X=n.n(M),H=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currency,n=e.value;return n?a.a.createElement("div",{className:X.a.root},a.a.createElement("div",{className:X.a.currency},t),a.a.createElement("div",{className:X.a.wallet},O," ",a.a.createElement(y,{currency:t,value:n}))):null}}]),t}(a.a.PureComponent),J=n(55),K=n.n(J),V=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).onChange=function(e){var t=e.item,r=n.props,a=r.onChange,c=r.currencyList;a&&a(c[t])},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currencyList,n=e.selectedCurrency,r=e.wallet,c=t.indexOf(n);return a.a.createElement("div",{className:K.a.root},a.a.createElement(G.a,{infinite:!0,buttonsDisabled:!0,mouseDragEnabled:!0,keysControlDisabled:!0,startIndex:c,responsive:{0:{items:1}},onSlideChanged:this.onChange},t.map(function(e){return a.a.createElement(H,{key:e,currency:e,value:r[e]})})))}}]),t}(a.a.PureComponent),W=n(56),Y=n.n(W),z=n(40),Q=n.n(z),Z=6,$=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={amount:""},n.contentEditable=a.a.createRef(),n.handleCurrencySelect=function(e){var t=n.props.onChange;n.focusInput(),t&&t(e)},n.handleKeyDown=function(){n.focusInput()},n.onAmountInput=function(e){var t=n.props.onInput,r=e.target.value;if(/^[0-9.\s]*$/.test(r)&&r.length<=Z){var a=new A.Decimal(r);n.setState({amount:r}),a&&t&&t(a),""===r&&t&&t(new A.Decimal(0))}else n.forceUpdate()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.focusInput()}},{key:"focusInput",value:function(){var e=this.contentEditable.current;e instanceof HTMLElement&&e!==document.activeElement&&this.moveCaretToEnd(e)}},{key:"moveCaretToEnd",value:function(e){if(e.focus(),"undefined"!==typeof window.getSelection&&"undefined"!==typeof document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}},{key:"render",value:function(){var e=this.state.amount,t=this.props,n=t.currencyFrom,r=t.wallet,c=Object.keys(r);return a.a.createElement("div",{className:Q.a.root},a.a.createElement(V,{wallet:r,currencyList:c,selectedCurrency:n,onChange:this.handleCurrencySelect}),a.a.createElement(Y.a,{className:Q.a.amountInput,html:e,innerRef:this.contentEditable,onChange:this.onAmountInput}))}}]),t}(a.a.PureComponent),q=n(13),ee=n.n(q),te=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).onCurrencySelect=function(e){var t=n.props.onChange;t&&t(e)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderAmount",value:function(){var e=this.props,t=e.amount,n=e.rate;if(!R(n)||!F(t))return a.a.createElement("div",{className:ee.a.value});var r=t.mul(n).toFixed(2),c=N()(ee.a.value,Object(L.a)({},ee.a.valueLong,r.length>7));return a.a.createElement("div",{className:c},r)}},{key:"renderRates",value:function(){var e=this.props,t=e.currencyFrom,n=e.currencyTo,r=e.inProgress,c=e.rate;if(r||!c)return null;var o=new A.Decimal(1),u=new A.Decimal(1).div(c);return a.a.createElement("div",{className:ee.a.rate},a.a.createElement(y,{currency:n,value:o,precision:0})," = ",a.a.createElement(y,{currency:t,value:u,precision:2}))}},{key:"render",value:function(){var e=this.props,t=e.currencyTo,n=e.wallet,r=Object.keys(n);return a.a.createElement("div",{className:ee.a.root},a.a.createElement(V,{wallet:n,selectedCurrency:t,currencyList:r,onChange:this.onCurrencySelect}),a.a.createElement("div",{className:ee.a.amount},this.renderAmount(),this.renderRates()))}}]),t}(a.a.PureComponent),ne=n(17),re=n.n(ne),ae=n(28),ce=b()({RATES_UPDATE:null,WALLET_EXCHANGE:null,FORM_UPDATE:null,LOADER_START:null,LOADER_STOP:null}),oe=n(57),ue=n.n(oe),le=function(){var e=Object(ae.a)(re.a.mark(function e(){var t,n,r,a,c;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml","https://cors-anywhere.herokuapp.com",e.next=5,fetch("".concat("https://cors-anywhere.herokuapp.com","/").concat("https://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml"));case 5:return t=e.sent,e.next=8,t.text();case 8:return n=e.sent,r=ue.a.xml2js(n),a=r.elements[0].elements[2].elements[0].elements,c=a.reduce(function(e,t){var n=t.attributes.currency,r=t.attributes.rate;return e[n]=new A.Decimal(r),e},{}),e.abrupt("return",c);case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(){return e.apply(this,arguments)}}(),ie=function(e){var t=e.loaderId;return{type:ce.LOADER_START,payload:{loaderId:t}}},se=function(e){var t=e.loaderId;return{type:ce.LOADER_STOP,payload:{loaderId:t}}},me={updateRates:function(){return function(){var e=Object(ae.a)(re.a.mark(function e(t,n){var r,a;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Object.keys(n().rates).length>1)||t(ie({loaderId:E.RATES_UPDATE_LOADER})),e.prev=2,e.next=5,le();case 5:a=e.sent,t({type:ce.RATES_UPDATE,payload:{rates:a}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:return e.prev=12,r||t(se({loaderId:E.RATES_UPDATE_LOADER})),e.finish(12);case 15:case"end":return e.stop()}},e,this,[[2,9,12,15]])}));return function(t,n){return e.apply(this,arguments)}}()}},de={exchangeCurrency:function(){return function(e,t){var n=t(),r=n.form,a=n.rates,c=n.wallet,o=r.currencyFrom,u=r.currencyTo,l=r.amount,i=D({currencyFrom:o,currencyTo:u,rates:a});C({currencyFrom:o,currencyTo:u,wallet:c,amount:l,rates:a})&&e({type:ce.WALLET_EXCHANGE,payload:{currencyFrom:o,currencyTo:u,amount:l,rate:i}})}}},pe={updateForm:function(e){var t=e.currencyFrom,n=e.currencyTo,r=e.amount;return{type:ce.FORM_UPDATE,payload:{currencyFrom:t,currencyTo:n,amount:r}}}},ye=n(14),he=n.n(ye),fe=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).updateRates=function(){n.props.dispatch(me.updateRates())},n.handleCurrencyFromChange=function(e){n.props.dispatch(pe.updateForm({currencyFrom:e}))},n.handleCurrencyToChange=function(e){n.props.dispatch(pe.updateForm({currencyTo:e}))},n.handleAmountChange=function(e){n.props.dispatch(pe.updateForm({amount:e}))},n.handleSubmit=function(e){e.preventDefault(),n.props.dispatch(de.exchangeCurrency())},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateRates(),setInterval(this.updateRates,1e4)}},{key:"render",value:function(){var e=this.props,t=e.currencyFrom,n=e.currencyTo,r=e.inProgress,c=e.enabled,o=e.wallet,u=e.amount,l=e.rate;return a.a.createElement("form",{className:he.a.root,onSubmit:this.handleSubmit},a.a.createElement("header",{className:he.a.header},a.a.createElement("div",{className:he.a.headerLeft}),a.a.createElement("div",{className:he.a.headerCenter},a.a.createElement(P,null)),a.a.createElement("div",{className:he.a.headerRight},a.a.createElement(U,{type:"submit",text:g,disabled:!c}))),a.a.createElement("main",{className:he.a.main},a.a.createElement($,{wallet:o,amount:u,currencyFrom:t,onChange:this.handleCurrencyFromChange,onInput:this.handleAmountChange}),a.a.createElement(te,{currencyFrom:t,currencyTo:n,inProgress:r,wallet:o,amount:u,rate:l,onChange:this.handleCurrencyToChange})))}}]),t}(a.a.PureComponent),ve=Object(d.b)(function(e){var t=e.form,n=e.wallet,r=e.rates,a=e.loaders,c=t.currencyFrom,o=t.currencyTo,u=t.amount,l=a[E.RATES_UPDATE_LOADER],i=D({currencyFrom:c,currencyTo:o,rates:r});return{currencyFrom:c,currencyTo:o,inProgress:l,enabled:C({currencyFrom:c,currencyTo:o,wallet:n,amount:u,rates:r}),wallet:n,amount:u,rate:i}})(fe),_e=n(11),be=n(58),Ee=n(7),Oe={EUR:new A.Decimal(567.89),GBP:new A.Decimal(876.543),USD:new A.Decimal(123.4)},je=Object(Ee.a)({EUR:new A.Decimal(0),GBP:new A.Decimal(0),USD:new A.Decimal(0)},Oe),ge={EUR:new A.Decimal(1)},we={currencyFrom:"EUR",currencyTo:"GBP",amount:new A.Decimal(0)},Te=Object.keys(E).reduce(function(e,t){return Object(Ee.a)({},e,Object(L.a)({},t,!1))},{}),Ae=Object(_e.c)({wallet:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ce.WALLET_EXCHANGE:var r=n.payload,a=r.currencyFrom,c=r.currencyTo,o=r.amount,u=r.rate,l=(e=Object(Ee.a)({},t))[a],i=e[c];return e[a]=l.minus(o),e[c]=i.plus(o.mul(u)),e;default:return t}},rates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.RATES_UPDATE:var n=t.payload.rates;return Object(Ee.a)({},e,n);default:return e}},form:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ce.FORM_UPDATE:var r=n.payload,a=r.currencyFrom,c=r.currencyTo,o=r.amount;return e=Object(Ee.a)({},t),a&&(e.currencyFrom=a),c&&(e.currencyTo=c),"undefined"!==typeof o&&(e.amount=new A.Decimal(o)),e;default:return t}},loaders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.LOADER_START:var n=t.payload.loaderId;return e[n]?e:Object(Ee.a)({},e,Object(L.a)({},n,!0));case ce.LOADER_STOP:var r=t.payload.loaderId;return e[r]?Object(Ee.a)({},e,Object(L.a)({},r,!1)):e;default:return e}}}),Ce={wallet:je,rates:ge,form:we,loaders:Te},De=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_e.d)(Object(_e.a)(be.a)),Re=(n(109),Object(_e.e)(Ae,Ce,De));o.a.render(a.a.createElement(d.a,{store:Re},a.a.createElement(ve,null)),document.getElementById("root"))},13:function(e,t,n){e.exports={root:"ExchangeTo_root__qUaiz",amount:"ExchangeTo_amount__3Tu1g",value:"ExchangeTo_value__3SjI2",valueLong:"ExchangeTo_valueLong__1NPtn",rate:"ExchangeTo_rate__nIxe0"}},14:function(e,t,n){e.exports={root:"App_root__1nDjN",header:"App_header__3U-gB",headerLeft:"App_headerLeft__cFFdv",headerCenter:"App_headerCenter__3yw3r",headerRight:"App_headerRight__1dPFj",main:"App_main__1ZmMF"}},20:function(e,t,n){e.exports={root:"Loader_root__3ryVv",bounce1:"Loader_bounce1__sdI3_",bounce2:"Loader_bounce2__3vdAd",bounce3:"Loader_bounce3__GT_0_",bounce:"Loader_bounce__YmQtY"}},29:function(e,t,n){e.exports={root:"CurrencyDisplay_root__34vox",currency:"CurrencyDisplay_currency__1Z2vd",wallet:"CurrencyDisplay_wallet__25GJp"}},39:function(e,t,n){e.exports={root:"Button_root__26xsm",disabled:"Button_disabled__2i_Ff"}},40:function(e,t,n){e.exports={root:"ExchangeFrom_root__2zVQv",amountInput:"ExchangeFrom_amountInput__37RoF"}},53:function(e,t,n){e.exports={root:"ExchangeRate_root__NC2uk"}},55:function(e,t,n){e.exports={root:"CurrencySelector_root__KUtB6"}},59:function(e,t,n){e.exports=n(112)},95:function(e,t){},97:function(e,t){}},[[59,2,1]]]);
//# sourceMappingURL=main.a7d2dff7.chunk.js.map